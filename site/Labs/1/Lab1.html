<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/x-icon" href="../img/favicon.ico">
	
    <title>CMPT 127 class: Lab 1 | Getting Started in C</title>

    <!-- CSS -->
    <link href="../dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../dist/css/bootstrap-glyphicons.css" rel="stylesheet">
    <link href="../assets/css/syntax.css" rel="stylesheet">
    <link href="../assets/css/127-class.css" rel="stylesheet">   
    <!-- <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet"> -->
    <link href="//CourseCentral/127/alavergn/Labs/dist/css/font-awesome.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
	 
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script> -->
    <script src="../dist/js/jquery.min.js"></script>

    <!-- MathJax -->
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
    <!--
    <script type="text/javascript"
      src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <script type="text/javascript"
      src="../dist/js/MathJax.js">
    </script>
    -->
	
	<!-- Code syntax highlighting --> 
	<!--<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"> NOT FOUND -->
	<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
	
	<!-- force printing a line number in every line when prettyprinting -->
    <style>
        .prettyprint ol.linenums > li { list-style-type: decimal; }
    </style>
	
  </head>
  
  <body>
    <a class="sr-only" href="#content">Skip to main content</a>

    <!-- Docs master nav -->
<!--
    <header class="navbar navbar-fixed-top navbar-default" role="banner">
      <div class="container">
        <div class="row">
        <div class="navbar-header">
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <ul class="nav navbar-nav">
            <li id="main_page"><a href="index.html" class="navbar-brand">CMPT 127</a></li>
          </ul>
        </div>
        <nav class="collapse navbar-collapse" role="navigation">
          <ul class="nav navbar-nav">
            <li id="syllabus"><a href="syllabus.html">Syllabus</a></li>
            <li id="labs">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#">Labs <span class="caret"></span></a>
              <ol class="dropdown-menu">
                <li><a href="lab0.cgi">0. Setup</a></li>
                <li><a href="lab1.cgi">1. Getting Started in C</a></li>
                <li><a href="lab2.html">2. Functions and Arrays</a></li>
                <li><a href="lab3.html">3. Dynamic Memory Allocation</a></li>
                <li><a href="lab4.html">4. Practice</a></li>
                <li><a href="lab5.html">5. Composite Data Types</a></li>
                <li><a href="lab6.html">6. File I/O</a></li>
                <li><a href="lab7.html">7. Testing and Lists</a></li>
                <li><a href="lab8.html">8. Memory allocation performance</a></li>
                <li><a href="lab9.html">9. Event-driven interactive programs</a></li>
                <li><a href="lab10.html">10. C++</a></li>
              </ol>
            </li>
            <li id="leaderboard"><a href="results/progress.html" target="_blank">Leaderboard</a></li>
            <li id="results"><a href="results.cgi">Results</a></li>
            <li id="help"><a href="help.html">Help!</a></li>
            <li id="faq"><a href="faq.html">FAQ</a></li>
          </ul>
        </nav>
      </div>
      </div>
    </header>
-->

    <div class="container">
      <div class="row">
        <div class="col-sm-2 hidden-sm hidden-xs">
          <a href="https://en.wikipedia.org/wiki/The_C_Programming_Language"> 
          <img src="../assets/img/krbook.jpg" class="img-responsive img-rounded" alt=""/>
          </a> 
          <span class="text-muted"><em><p>C was created by <a href="https://en.wikipedia.org/wiki/Dennis_Ritchie" target="_blank">Dennis Ritchie</a>. 
		  <a href="https://en.wikipedia.org/wiki/Brian_Kernighan">Brian Kernighan</a> 
		  wrote the first C tutorial. The first edition of this book written by them (called K&amp;R for short) was published in 1978.</p></em></span>
        </div>
        <div class="col-sm-10">
		
          
<h2>Lab 1: Getting Started in C</h2>

<!--
<p><span class="text-info">Start by or earlier</span> |
<span class="text-warning">Due on </span></p>
-->
<hr />

<div class="alert alert-success" role="alert">
<p>Compiling, input/output, types, loops and using version control</p>

</div>

<!--
<h3 id="videos">Videos</h3>

<ul>
  <li><a href="https://www.youtube.com/watch?v=-NYKzMiTpU0">Video lecture for Lab 1</a></li>
</ul>
-->

<h3 id="goals">Goals</h3>

<p>After this lab you will be able to</p>

<ol>
  <li>Follow the instructions for subsequent labs.</li>
  <li>Compile and run a C program from the command line in Linux.</li>
  <li>Submit code for evaluation using a version control system.</li>
  <li>Create and use variables of the native types and obtain their addresses.</li>
  <li>Perform basic input and output on the console.</li>
  <li>Link to the standard math library</li>
  <li>Write loops using the <code class="highlighter-rouge">while</code> and <code class="highlighter-rouge">for</code> syntax.</li>
  <li>Write conditionals using the <code class="highlighter-rouge">if</code> syntax.</li>
  <li>Obtain the evaluation results through the version control system.</li>
</ol>

<h3 id="reading-material">Reading material</h3>

<ul>
  <li><a href="http://www.sfu.ca/computing/about/support/csil.html" target="_blank">CS Undergrad Labs (CSIL) Information</a></li>
  <li><a href="http://linuxcommand.org" target="_blank">Beginners guide to using the Linux terminal</a></li>
  <!--<li><a href="https://try.github.io/" target="_blank">Git interactive tutorial</a></li>
  <li><a href="https://docs.gitlab.com/ce/gitlab-basics/start-using-git.html"mtarget="_blank">Start using Git and GitLab</a></li>-->
  <li><a href="http://cslibrary.stanford.edu/101/EssentialC.pdf" target="_blank">A concise introduction to C by Nick Parlante of Stanford</a>. 
      See also <a href="http://cslibrary.stanford.edu" target="_blank">their nice library of related topics</a>.</li>
</ul>

<style type="text/css">
    .bs-example{
        margin: 20px;
    }
</style>

<div class="bs-example">
    <div class="panel-group" id="accordion">
        <div class="panel-body control-accordion">
        <!-- <p class="pull-right"><a href="#" class="expandAll"><span class="glyphicon glyphicon-resize-full" aria-hidden="true"></span></a> <a href="#" class="collapseAll"><span class="glyphicon glyphicon-resize-small" aria-hidden="true"></span></a></p> -->
        <p class="pull-right"><a href="#" class="expandAll">Expand</a> | <a href="#" class="collapseAll">Collapse</a></p>
        </div>
        
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#intro">Introduction</a>
                    </h4>
                </div>
                <div id="intro" class="panel-collapse collapse">
                      
                        <div class="panel panel-body">
                          <p>In this course you will complete a lab every week. Each lab contains
several tasks, i.e., small assignments that are submitted individually.
Each lab task is automatically graded by a grading robot which downloads
your code from your GitLab code repository (Git repo), then compiles and runs
your code with several test cases. A test case comprises of an <em>input</em> and a corresponding <em>expected result</em>.
The grading robot checks that the output your code produces (<em>actual results</em>) matches the expected result
for each test case and posts these results in a report to this link:
<code class="highlighter-rouge">https://www2.cs.sfu.ca/CourseCentral/127/common/results/$USER</code>,
which you can open in your web browser. 
Make sure you read and understand these reports, correct any bugs reported, recompile and retest your program (task), 
then push your task again onto your Git repo.</p>

<p>Before you attempt this lab, you must successfully complete Lab 0, in which
you set up your Git Lab code repository (Git repo)
and set up the auto grading system by allowing the grading robots to access your code on your Git repo.</p>
                         
                        </div>
                      
                      
                </div>
            </div>
        
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#setup">Setup</a>
                    </h4>
                </div>
                <div id="setup" class="panel-collapse collapse">
                      
                        <div class="panel panel-body">
                          <p>The following instructions will get you set up for this
lab. But first, let's explain some of the layout of our CMPT 127 labs.</p>

                            <p>
                            <div class="alert alert-danger" role="alert">
                              <p>Whenever you see a red section that looks like this, you should
follow its instructions carefully. Don’t move on until you
have completed them. Seek help if necessary.</p>

                            </div>
                            </p>

<p>When commands are given, they are shown in a code block as illustrated below</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ls
</code></pre></div></div>

<p>You should type out the command <code class="highlighter-rouge">ls</code> in the command shell and press the <code class="highlighter-rouge">return</code> key.
You may copy and paste the command but always read the instructions above
and below the command to check if you need to modify it.</p>

<p>OK! Let's start setting up for Lab 1.</p>

                          
                            <p>
                            <div class="alert alert-danger" role="alert">
                              <ol>
  <li>
    <p>First, remember, from Lab 0, that your local repo is called 
	<code class="highlighter-rouge">cmpt127-$SEMESTER-$USER</code> and it is located in the following directories (or folders):
		<code class="highlighter-rouge">sfuhome/cmpt-127/cmpt127-$SEMESTER-$USER</code>.
	Make your local repo directory your current working directory using the <code class="highlighter-rouge">cd</code> command.</p>
	<p><mark>This step must always be the first step you do when you start a new lab.</mark></p>
	<p>If you do not have a local repo, you first need to do Lab 0 before moving onto Lab 1.</p>
	<p>You can check whether you have moved into your current working directory by using the <code class="highlighter-rouge">pwd</code> 
	command (<em>print working directory</em>).</p>
  </li>
  <li>
    <p>Create a new directory for this lab, called <code class="highlighter-rouge">1</code></p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkdir 1
</code></pre></div>    </div>
  </li>
  <li>
    <p>Add the new directory to Git, so it will become a permanent part of your repository:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add 1
</code></pre></div>    </div>
  </li>
  <li>
    <p>Change directory into <code class="highlighter-rouge">1</code></p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd 1
</code></pre></div>    </div>
  </li>
  <li>
    <p>Check that your current working directory is now <code class="highlighter-rouge">1</code> using <code class="highlighter-rouge">pwd</code>. 
	The instructions in the rest of this Lab 1 below assume this is true.</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pwd
</code></pre></div>    </div>
  </li>
  <li>
    <p>You’re ready to continue with the lab.</p>
  </li>
</ol>

                            </div>
                            </p>
                          
                          
                        </div>
                      
                      
                </div>
            </div>
        
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#task1">Task 1: Compiling and Hello World!</a>
                    </h4>
                </div>
                <div id="task1" class="panel-collapse collapse">
                      
                      
                        <div class="panel panel-body">
                        
                            
                                <br><h4>Introduction</h4>
                                
                                    <p>In this task you will write a very simple C program, compile
it, run it, and read its output. Does your program produce the expected output?
If yes, then your program has solved the problem stated in Task 1. If no, then your program has not solved
the problem stated in Task 1 and you need to fix it, recompile it, run it and read its output again.
Does it now produce the expected output?</p>
<p>This series of activities: compile/run/check output against expected output, is called "testing" 
(Step 4 of the software development process). <mark>Only when you have successfully tested your program,
i.e., your program solves the task, can you git add/commit and push your program to your Git repo</mark>.</p>

<p>Why compile code? Languages like Python are run inside an
<em>interpreter</em>, a program that reads source code and
executes it as it goes along. In contrast, C code is
<em>compiled</em> into programs (executable files) that run directly on the
computer. The compiler does not run the program, instead
it transforms it into runnable machine code. Compiled
programs do not have the overhead of the interpreter when
they run, so in theory they could run faster and use less
memory, at the cost of the extra compilation step.
Another advantage of a compiler over an interpreter is that 
once the compiler has created an executable file, this file can be executed over and over
without having to be recompiled (compile once, execute many times).</p>

<p>Why C? The speed and small memory footprint of well-written C is the key to its popularity, 
along with the availability of a C compiler for almost every computer you can find, including 
small embedded devices. C also has good support for the low level operations needed to interact with hardware, 
while being tolerably easy for humans to read and write. C is a <em>lingua franca</em> for application, systems and embedded programmers.</p>

<p>Much of the software you use every day is written in C or a descendant language and
this has been true for many years. 
To get an idea of C's popularity, have a look at the language populatiry index from <a href="https://www.tiobe.com/tiobe-index//" target="_blank">Tiobe</a> 
and from
<a href="http://lang-index.sourceforge.net/" target="_blank">SourceForge</a>. A popular alternative to C is Java, 
which has a C++-like syntax but simplified memory management. Learning Java is easy if you know C++.</p>

<!--<p>For more about why we are using C for this course, read
the “Why C?” section of the <a href="syllabus.html">Syllabus</a>.</p>
-->

                                    
                                      <p>
                                      <div class="alert alert-danger" role="alert">
                                        <p>What follows is a simple but complete run-through of the workflow
you will use to complete most of the lab tasks in this course.
Don’t be concerned if you find this task or this lab
trivial, the tasks will become more challenging soon enough.</p>

                                      </div>
                                      </p>
                         
                            
                                <div class="panel panel-primary">
                                  <div class="panel-heading">
                                    <h4 class="panel-title">Requirements</h4>
                                  </div>
                                  <div class="panel-body">
                                    <p>Write a C program <code class="highlighter-rouge">t1.c</code> that writes the string <code class="highlighter-rouge">Hello
World!</code> to standard output.</p>

                                  </div>
                                </div>
                                
                                  <p>
                                  <div class="alert alert-danger" role="alert">
                                    <p>The requirements section is very important. It describes
what your submission must do to pass the automated
tests (the grading robot). It is marked clearly so you can’t miss it.</p>

                                  </div>
                                  </p>
                                
                            
                        
                            
                                <br><h4>Guide</h4>
                                
                                    <p>The following C or C++ program prints a greeting to the
standard output. Standard output, often abbreviated
stdout is the name of a text stream that your
command-line-based program uses to output text to the
screen (or other places we will see later). You don’t
absolutely need to read it just now, but for reference
<a href="http://www.linfo.org/standard_output.html">a thorough definition of standard
output</a> is
given at <a href="http://www.linfo.org/">LINFO</a>, a great source
of Linux information.</p>

<p>
<pre class="prettyprint linenums">#include &lt;stdio.h>

int main( void )
{
   printf( "Hello World\n" );
   return 0;
}
</pre>
</p>
<!--
<script src="https://gist.github.com/anoopsarkar/45718ceb379fe795ee123ee848a916e1.js"></script>
-->

<p>Let’s examine the program line by line. Our goal is to
use the C function <code class="highlighter-rouge">printf</code> to compose a chunk of text
and send it to standard output (stdout). As we saw when
we used the shell we can send the stdout to another
program or to a file easily. Before we use <code class="highlighter-rouge">printf</code>,
we need to tell the compiler where to find it so we
import a declaration of its name and the arguments it
accepts. This is provided with your compiler installation
in the file <code class="highlighter-rouge">stdio.h</code>. The compiler is set up so that
it knows where to look for it. It’s often in <code class="highlighter-rouge">/usr/include</code>.</p>

<p>Line 1 copies the contents of <code class="highlighter-rouge">stdio.h</code> directly into
the program code. Below the <code class="highlighter-rouge">#include</code> line we can call
any functions declared in the included file, including
<code class="highlighter-rouge">printf</code>.</p>

<p>Line 3 defines a function called <code class="highlighter-rouge">main</code> that returns
an integer (<code class="highlighter-rouge">int</code>) and takes no arguments (<code class="highlighter-rouge">void</code>). C
programs always start running at the <code class="highlighter-rouge">main</code> function.
It’s a bit more complicated in C++, but in both languages
every program contains exactly one <code class="highlighter-rouge">main</code>, which is
called by the operating system when the program starts.
If you forget to define <code class="highlighter-rouge">main</code>, the compiler will report
an error because it does not know where to start the
program execution. The body of the function follows
from line 5 to line 6, contained within curly braces
<code class="highlighter-rouge">{ ... }</code>. Unlike Python, the C compiler ignores
indentation and newlines completely: they are only used
to lay out the code for humans to read. Spaces, tabs
and newlines do nothing except separate the tokens -
the linguistic atoms - of the language.</p>

<p>Line 5 uses <code class="highlighter-rouge">printf</code> to write a text string to stdout.
As in many other languages, C strings are a sequence
of characters contained within double-quote characters
<code class="highlighter-rouge">"like this"</code>. We will come back to the details of C
strings later. The string <code class="highlighter-rouge">"Hello World\n"</code> ends with
a two-character <strong>escape sequence</strong> <code class="highlighter-rouge">\n</code> that represents the
newline character. This is different from a <code class="highlighter-rouge">print</code>
statement in Python that automatically ends the line
for you: the C function <code class="highlighter-rouge">printf</code> does not. To have a
newline in output, we have to represent it with this
special escape sequence.</p>

<p>Line 5 is our first statement, a block of code that
does some work. Statements end with a semicolon <code class="highlighter-rouge">;</code>.
This is different from Python which uses newlines to
end statements.</p>

<p>Line 6 causes the <code class="highlighter-rouge">main</code> function to return the integer
value <code class="highlighter-rouge">0</code> (zero) as the result of the function. Back
on line 3 we promised that the main function would
return an integer, and the compiler would warn us if
we forgot to do so. Since this is the <code class="highlighter-rouge">main</code> function,
the caller is the command shell which invoked (ran) the
program, which receives the value zero as the program’s
result. C programs always return an integer, and
programmers conventionally use this value to indicate
that the program was successful by returning zero, or
a non-zero error code if something went wrong. We return
zero to indicate that we detected no problems.</p>

                                    
                                      <p>
                                      <div class="alert alert-danger" role="alert">
                                        <p>The guide section helps you through the process of
meeting the requirements. Some tasks will have a long
and detailed guide section, others will have only a
brief note.</p>

                                      </div>
                                      </p>
                                    
                                
                            
                        
                            
                                <br><h4>Compiling the program</h4>
                                
                                    <p>Follow these steps to compile and test your program. Remember, 
									"test your program" means: run it, read its output and make sure they match the expected output.</p>

                                    
                                      <p>
                                      <div class="alert alert-danger" role="alert">
                                        <ol>
  <li>Make sure you are in your lab working copy directory
<code class="highlighter-rouge">1</code> by following the steps from the Setup section.</li>
  <li>
    <p>Open a text editor. subl or gedit is installed for
you in CSIL, easily available on all Linux systems,
runs in a window and uses the well-known Windows
keybindings. Of course, you can use any other text
editor you like.</p>
  </li>
  <li>
    <p>Type in the code from the box above into a new file and save it as <code class="highlighter-rouge">t1.c</code>. C files conventionally have a .c suffix.</p>
  </li>
  <li>
    <p>Compile the source code file to create a binary file that can be run from the shell</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gcc t1.c
</code></pre></div>    </div>
  </li>
  <li>
    <p>If the program compiled correctly, the compiler created a new file in the current directory called 
	<code class="highlighter-rouge">a.out</code> containing your executable program. Instead if you get error 
	messages read them carefully, top to bottom and edit the code to fix the first reported error, then compile again. 
	Once all looks well, run your program using its name like so:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./a.out
</code></pre></div>    </div>

    <p>(where “./” means “this directory”). You should see the expected output on your console:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Hello World
</code></pre></div>    </div>
  </li>
  <li>
    
	<p>Specify a more descriptive name for your program than the default <code class="highlighter-rouge">a.out</code> 
	with the compiler output name option <code class="highlighter-rouge">-o</code>:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gcc -o hello t1.c
./hello
Hello World
</code></pre></div>    </div>
  </li>
  <li>
    <p>You now have a working program written in C and built with your bare hands using only the command line. Not bad.</p>
  </li>
</ol>

                                      </div>
                                      </p>
                                    
                                
                            
                        
                            
                                <br><h4>Testing and debugging</h4>
                                
                                    <p>Testing is extremely important, and beginners often underestimate
how much time and effort is required for good testing. In this case
the test is easy and can be done by a human directly. Does the
output text match <mark>exactly</mark> the required text?</p>

<p>Standard practice in software engineering, and for these labs, is
to test the output of all your programs using automated scripts
called <strong>test drivers</strong> (also referred to as unit tests). 
A test test is a very powerful tool for
figuring out if your program works properly.
It is much easier to write a nearly-correct program than a really-correct program. A
good test driver will test to see if your requirements are met by trying
a variety of test cases and checking for the expected output (expected results).
Writing and using test drivers can significantly help with the quality of
your software. You should write test drivers to make sure your code is
correct before submission in all but the most trivial programs.</p>

<p>The grading robots uses test drivers (unit tests) for all your tasks.
After submission, the grading robots run automatically. If you pass all the
tests, you have successfully completed the task.</p>

<p>Do <strong>not</strong> ask the instructor/TAs what is in a particular test driver of the grading robots!
Write your own test drivers instead to examine why you are failing
the task. Your job is to solve the task, not to simply pass all the test cases.</p>

                                    
                                      <p>
                                      <div class="alert alert-danger" role="alert">
                                        <ol>
  <li>Fix the error in code in <code class="highlighter-rouge">t1.c</code> by adding the missing exclamation point.</li>
  <li>Compile and run it, and verify that it now produces the correct output (expected result).</li>
  <li>Now your program meets the Requirements and you are ready to submit it.</li>
</ol>

                                      </div>
                                      </p>
                                    
                                
                            
                        
                            
                                <br><h4>Submit your code to evaluation</h4>
                                
                                    <p>First, add your new source code file to the Git repo,
commit the current state of all added files, then push
all local changes to the remote server.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add t1.c
git commit -m "t1 works, so I'm submitting it"
git push
</code></pre></div></div>
 
<p><strong>Do not add the <code class="highlighter-rouge">a.out</code> file or 
the <code class="highlighter-rouge">hello</code> file to your Git repo.</strong></p>

                                    
                                
                            
                        
                            
                                <br><h4>Checking your results</h4>
    	
<p>You can check your results on your results page once the grading robot has executed.
Refer to the <strong>Check the automated grading server</strong> section in Lab 0 for 
the link to the report web site the grading robots built for you.</p>

<p>In this class the grading robots execute every hour. This frequency has two purposes:</p>

<ol>
  <li>It means you need to test your programs yourself,
and not rely on the grading robots for your compile-test-debug
cycle. Remember, testing is a critical skill in itself.</li>
  <li>It simulates the experience of contributing to a
very large piece of software, where full-scale builds
and tests can take hours or days.</li>
</ol>
                        
                    </div>                 
                </div>
            </div>
        
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#compiler">What does a compiler do?</a>
                    </h4>
                </div>
                <div id="compiler" class="panel-collapse collapse">
                      
                        <div class="panel panel-body">
                          <p>Invoking the compiler <code class="highlighter-rouge">gcc</code> on the source code file <code class="highlighter-rouge">t1.c</code> did the following things:</p>

<ul>
  <li>First the <em>C preprocessor</em> runs. It scans the file manipulating its text; mainly removing comments and newlines and <em>expanding macros</em>. C <em>Macros</em> are  preprocessor instructions beginning with a hash symbol <code class="highlighter-rouge">#</code>. The preprocessor replaces each macro with the results of the macro, which is always text. <code class="highlighter-rouge">#include</code> is a macro which causes the entire line it sits on to be replaced by the contents of the named file. Following the preprocessor run, we now have an intermediate C file that contains no comments or macros.</li>
  <li>
    <p>Next the <em>C compiler</em> program runs and translates the C source code into assembler code that is specific to your CPU type. To see that this is so, let’s ask the compiler to stop after this stage and take a look at the assembly generated for our program:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gcc -S t1.c
</code></pre></div>    </div>

    <p>This produces a file called <code class="highlighter-rouge">t1.s</code> which you can view using <code class="highlighter-rouge">less t1.s</code> 
	that contains the assembly output. Let’s look at the assembly output for our hello world program.</p>

<!--
    <script src="https://gist.github.com/anoopsarkar/33eb3f5bf0075b664418518d9295bcac.js"></script>
-->
<p>
<pre class="prettyprint linenums">
	.file	"t1.c"
	.text
	.section	.rodata
.LC0:
	.string	"Hello World!"
	.text
	.globl	main
	.type	main, @function
main:
.LFB0:
	.cfi_startproc
	pushq	%rbp
	.cfi_def_cfa_offset 16
	.cfi_offset 6, -16
	movq	%rsp, %rbp
	.cfi_def_cfa_register 6
	leaq	.LC0(%rip), %rdi
	call	puts@PLT
	movl	$0, %eax
	popq	%rbp
	.cfi_def_cfa 7, 8
	ret
	.cfi_endproc
.LFE0:
	.size	main, .-main
	.ident	"GCC: (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0"
	.section	.note.GNU-stack,"",@progbits
</pre
</p>


    <p>Looking at this assembly, you can see why C and other high level languages were invented. 
	They are a lot easier for humans to read and write. 
	C and C++ have proven themselves to be at a sweet spot between human usuability and the efficiency of their code at run-time.</p>

    <p>At this point we still have a text representation of our program,
now in a different language. The computer can not run it yet.</p>
  </li>
  <li>
    <p>The next step is to translate the assembly representation into the binary format that the computer can read directly. 
	This is now a sequence of numbers, each representing either a datum value, a memory address, or an actual CPU operation to perform (<em>opcode</em>). 
	This is no longer readable by most humans, but it is a direct translation of the assembly so you can translate back and forth if needed.</p>

    <p>The program is now a chunk of binary data called an <em>object</em>, and the compiler writes it to a file in called an <em>object file</em>, 
	which ends with <code class="highlighter-rouge">.o</code>, so <code class="highlighter-rouge">t1.c</code> creates <code class="highlighter-rouge">t1.o</code>. 
	If multiple source files were compiled, each gets its own object file.</p>

    <p>To see this happening, we can ask the compiler to stop at the object stage:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gcc -c t1.c
</code></pre></div>    </div>

    <p>The working directory will contain the file <code class="highlighter-rouge">t1.o</code>. 
	Opening this in an editor, you will see a lot of unreadable stuff, with some familiar bits here and there, 
	such as the string <em>Hello World</em> which is stored in the object as data. You’ll also see the function names 
	<code class="highlighter-rouge">main</code> and <code class="highlighter-rouge">printf</code> which are kept 
	around in human-readable form in case we want to debug the program as it runs.</p>
  </li>
  <li>
    <p>The final stage is to <em>link</em> together all the object files, along with any code libraries they referenced, 
	to create the complete executable program. Code libraries are just collections of <code class="highlighter-rouge">.o</code> 
	object files all smooshed together with an index at the start. (Object files are often small and numerous, so collecting them simplifies distribution).</p>

    <p>Invoking the compiler with our object file will do the link:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gcc -o t1 t1.o
</code></pre></div>    </div>

    <p>This will create a new executable called <code class="highlighter-rouge">t1</code> in the current directory. Done.</p>
  </li>
</ul>

<p>Now you have seen a typical C compiler process from start to finish. In practice you will almost always let the compiler do the whole thing at once for you. It deletes the intermediate files when it’s finished with them, so you won’t even see them unless you look hard.</p>

                          
                          
                        </div>
                      
                      
                </div>
            </div>
        
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#workflow">Workflow</a>
                    </h4>
                </div>
                <div id="workflow" class="panel-collapse collapse">
                      
                        <div class="panel panel-body">
                          <p>The first task is complete. The remaining tasks have the same workflow.</p>
<ol>
  <li>Read the introduction (Step 1 - Problem Statement and Requirements).</li>
  <li>Carefully read the Requirements (Step 1 - Problem Statement and Requirements).</li>
  <li>Read the Guide to help you get started (Learning moment).</li>
  <li>Think, and maybe repeat the prior steps (Step 2 - Design).</li>
  <li>Implement some code (Step 3 - Implementation).</li>
  <li>Test, and repeat last step until your code passes the test (Step 4 - Compilation and Testing).</li>
  <li>Commit changes to your local repo.</li>
  <li>Push your committed local changes to your Gitlab repo.</li>
  <li>Look at the results from the grading robot (after some delay) on your <strong>results</strong> web page.</li>
</ol>

                          
                          
                        </div>
                      
                      
                </div>
            </div>
        
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#task2">Task 2: Native types and printf</a>
                    </h4>
                </div>
                <div id="task2" class="panel-collapse collapse">
                      
                      
                        <div class="panel panel-body">
                        
                            
                                <br><h4>Introduction</h4>
                                
                                    <p>C is a <em>strongly typed</em> language. That is, all variables have a <em>type</em> that identifies the kind of data they store. Types include integers, floating point numbers, and characters.  Every variable has a <em>value</em> which is the data it stores. A variable’s type is specified at its creation.</p>

<p>The value of a variable can change, but its type can not. Thus C is a <em>statically typed</em> language. This is fundamentally different to Python, where variables could contain different things during their lifetime.</p>

<p>The advantages usually claimed for strong, static typing are</p>

<ol>
  <li>Explicit statement of intent. You tell the compiler and people reading the code what kind of data you are manipulating.</li>
  <li>Error prevention at compile time. If you violate your stated intent, the compiler lets you know right away.</li>
</ol>

                                    
                                
                            
                        
                            
                                <br><h4>Variables and output</h4>
                                
                                    <p>Let’s look at a C program that creates some variables and prints them.</p>

<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;stdio.h&gt;</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="kwd">int</span><span class="pln"> main</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="pun">)</span></li><li class="L3"><span class="pun">{</span></li><li class="L4"><span class="pln">  </span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></li><li class="L5"><span class="pln">  </span><span class="kwd">float</span><span class="pln"> pi </span><span class="pun">=</span><span class="pln"> </span><span class="lit">3.14159</span><span class="pun">;</span></li><li class="L6"><span class="pln">  </span><span class="kwd">char</span><span class="pln"> c </span><span class="pun">=</span><span class="pln"> </span><span class="str">'+'</span><span class="pun">;</span></li><li class="L7"><span class="pln">&nbsp;</span></li><li class="L8"><span class="pln">  </span><span class="com">// this is a comment</span></li><li class="L9"><span class="pln">  printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"Here: %d %f %c\n"</span><span class="pun">,</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> pi</span><span class="pun">,</span><span class="pln"> c </span><span class="pun">);</span></li><li class="L0"><span class="pln">&nbsp;</span></li><li class="L1"><span class="pln">  </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></li><li class="L2"><span class="pun">}</span></li></ol></pre>

<!--
<script src="https://gist.github.com/anoopsarkar/00f91e2f4b2e9906678680a846c1a888.js"></script>
-->


<p>Which produces this on stdout</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>here: 0 3.141590 +
</code></pre></div></div>

<p>We initialize the variables to a value with the <code class="highlighter-rouge">=</code> operator. C does not require that variables be initialized, but it’s a good practice so we will always do so.</p>

<p>Line 9 is a comment. As in most languages, comments are notes for human readers only, and are ignored by the compiler. Comments come in two styles</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/* The  multi-line comment style: everything between the 
   slash-star and star-slash is ignored */
// The single-line comment style: the remainder of the line is ignored.
</code></pre></div></div>

<p>Line 10 calls <code class="highlighter-rouge">printf</code> which allows you to print all the native variable types. Using <code class="highlighter-rouge">printf</code> is similar to using the <code class="highlighter-rouge">%</code> idiom in Python’s <code class="highlighter-rouge">print</code> function. <code class="highlighter-rouge">printf</code> is less flexible about its input than Python’s <code class="highlighter-rouge">print</code>, but you can do a lot with it.</p>

<p>The first argument to the <code class="highlighter-rouge">printf</code> function is a <code class="highlighter-rouge">"format string"</code>. This is a template that specifies the text to output, including specifiers: codes that begin with <code class="highlighter-rouge">%</code> that are to be replaced by text representing the values of subsequent arguments to printf. In the example, the format string is <code class="highlighter-rouge">here: %d %f %c\n</code>. This tells printf that the next three arguments will be an integer decimal (%d), a floating point decimal (%f) and a character (%c). The compiler will check that you supplied the correct number and type of arguments.</p>

<p>Notice that the floating point number was printed with a zero on the end that did not appear in the source code. This is because printf prints the value of a float to a default precision. This can be set explicitly by stating how many digits you want after the decimal point, e.g</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>float pi = 3.14159
printf( "%.2f\n", pi );
</code></pre></div></div>

<p>Which prints</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>3.14
</code></pre></div></div>

<p>Above we said that printf is expecting a sequence of variables after the format string. In fact, any expression can be used. An expression in C is a sequence of variables, operators and function calls. The following are valid simple expressions</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>a
a+b
a*(b+c)
a*sqrt(b)
</code></pre></div></div>

<p>In the last line above, we are calling a function <code class="highlighter-rouge">sqrt</code> as part of the expression to get the square root of the number <code class="highlighter-rouge">b</code>.</p>

<p>The result of any given expression is always a value with a type. This means that an expression can be used anywhere a value is expected, such as following the format string in a call to printf. For example, the following is valid</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int a=2;
int b=10;
 
printf( "the product of a and b equals %d\n", a*b );
</code></pre></div></div>

<p>That’s the basics of text output in C.</p>

                                    
                                
                            
                        
                            
                                <br><h4>Types and storage size</h4>
                                
                                    <p>C has several native (i.e. predefined)  variable types. They differ by the kind of value they store and by the range of possible values.</p>

<p>Here are the most commonly used:</p>

<p><mark>NOTE: Notice that the caption in the integer table below says <em>minimum width</em>. 
This is because the C standard says only that integers must be at least this size.
They can be larger, and your compiler will use the sizes that are most efficient for your machine. 
Task 2 is to write a program to find out the sizes of all these data types on the machine that runs it.
The sizes your Task 2 will display will most likely be different than the figures displayed in the table below.</mark></p>
<div>
<table class="table table-bordered table-condensed table-responsive">
<caption class="text-left"><strong>Standard integer types</strong></caption>
<tbody><tr>
<th>Type specifier</th>
<th>Minimum width (bits)</th>
<th>Minimum value</th>
<th>Maximum value</th>
</tr>
<tr>
<td><code>char</code></td>
<td>8</td>
<td>-127</td>
<td>127</td>
</tr>
<tr>
<td><code>unsigned char</code></td>
<td>8</td>
<td>0</td>
<td>255</td>
</tr>
<tr><td><code>int</code></td>
<td>16</td>
<td>-32,767</td>
<td>32,767</td>
</tr>
<tr>
<td><code>unsigned int</code></td>
<td>16</td>
<td>0</td>
<td>65,535</td>
</tr>
<tr>
<td><code>long</code></td>
<td>32</td>
<td>-2,147,483,647</td>
<td>2,147,483,647</td>
</tr>
<tr>
<td><code>unsigned long</code></td>
<td>32</td>
<td>0</td>
<td>4,294,967,295</td>
</tr>
</tbody></table>
</div>

<div>
<table class="table table-bordered table-condensed table-responsive">
<caption class="text-left"><strong>Floating-point types</strong></caption>
<tbody><tr>
<th rowspan="2">Type specifiers</th>
<th colspan="2">Precision (decimal digits)</th>
<th colspan="2">Exponent range</th>
</tr>
<tr>
<th>Minimum</th>
<th>IEEE 754</th>
<th>Minimum</th>
<th>IEEE 754</th>
</tr>
<tr>
<td><code>float</code></td>
<td>6</td>
<td>7.2 (24 bits)</td>
<td>±37</td>
<td>±38 (8 bits)</td>
</tr>
<tr>
<td><code>double</code></td>
<td>10</td>
<td>15.9 (53 bits)</td>
<td>±37</td>
<td>±307 (11 bits)</td>
</tr>
<tr>
<td><code>long double</code></td>
<td>10</td>
<td>34.0 (113 bits)</td>
<td>±37</td>
<td>±4931 (15 bits)</td>
</tr>
</tbody></table>
</div>

<p>There are also <em>pointer</em> types for each one of these. We will discuss pointers later.</p>

<p><a href="http://en.wikipedia.org/wiki/C_syntax#Primitive_data_types">A
complete list of the native  types is available at
Wikipedia</a>.</p>

<p>Why have all these types? The most important distinction
is between integer and floating point types, which
represent numbers differently. Integer types represent
integer values exactly, but over a limited range, with
the range determined by the number of bits. Floating
point types represent real-number values approximately,
with the precision of the approximation determined by
the number of bits.</p>

<p>We could manage with one type for each of integer and
floating point, but C was designed with compactness and
efficiency in mind. Thus C allows (indeed, requires)
the programmer to specify the storage space versus 
range/precision trade-off for each variable. This design
decision was perhaps easier to justify in 1971 than
today, but memory is still precious on your smartphone,
and even more so on a microwave oven and on the robots
currently on Mars.</p>
                                  
                                
                            
                        
                            
                                <br><h4>Characters and Strings</h4>
                                
                                    
<p>A character in C is written using a single quote character, e.g. <code class="highlighter-rouge">char x = 'a';</code> assigns the value of the 
character <code class="highlighter-rouge">a</code> to the variable <code class="highlighter-rouge">x</code> of type <code class="highlighter-rouge">char</code> (or character for short). The type <code class="highlighter-rouge">char</code> uses 7 bits so
it can represent <script type="math/tex">2^7</script> or 128 possible values. To see these values in more details use the command</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>man ascii
</code></pre></div></div>

<p>and look at the decimal set which shows the different characters used in C. This representation is called
<a href="https://en.wikipedia.org/wiki/ASCII">ASCII</a>. As you can see from the ascii table, each character is simply
a number that is printed out as a particular letter of the alphabet. The ascii table also includes unprintable
characters (usually called control characters). The visible letters of the English alphabet and punctuation
have values between 32 (the space character) and 126 (<code class="highlighter-rouge">~</code>). Special symbols like the newline character (<code class="highlighter-rouge">'\n'</code>)
also have ascii values, for instance the newline is the number 10. Lowercase letters of the English alphabet 
also have decimal values starting from 97 (<code class="highlighter-rouge">a</code>) until 122 (<code class="highlighter-rouge">z</code>). So <code class="highlighter-rouge">char x = 97;</code> is exactly the same
as <code class="highlighter-rouge">char x = 'a';</code>. Either definition of <code class="highlighter-rouge">x</code> can be printed as the English letter by using <code class="highlighter-rouge">printf("%c", x);</code>.</p>

<p>A string in C is a sequence of characters (or an array of characters) terminated by a zero value. By default
C will zero terminate a string.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>char coursename[] = "CMPT 127";
</code></pre></div></div>

<p>Each element of the array <code class="highlighter-rouge">coursename</code> is a character, e.g. <code class="highlighter-rouge">coursename[0] = 'C'</code>.</p>

                                    
                                
                            
                        
                            
                                <div class="panel panel-primary">
                                  <div class="panel-heading">
                                    <h4 class="panel-title">Requirements</h4>
                                  </div>
                                  <div class="panel-body">
                                    <ol>
  <li>Write a new C program in a file called <code class="highlighter-rouge">t2.c</code></li>
  <li>Write a program that outputs the storage size <b>in bits</b> of each type from the tables above on standard output.</li>
  <li>The sizes should be listed in the order they appear in the preceding tables.</li>
  <li>Output values should be contained on single line, each separated by a single ‘ ‘ (space) character.</li>
  <li>The line should end with a newline.</li>
  <li>
    <p>Example output:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>8 8 16 16 32 32 32 64 128
</code></pre></div>    </div>
  </li>
  <li>Note that the exact values printed will probably be different - very likely larger - on your machine. The
values in the example output was taken from a vintage 1980s computer.</li>
</ol>

                                  </div>
                                </div>
                                
                            
                        
                            
                                <br><h4>Guide</h4>
                                
                                    <p>C provides a <code class="highlighter-rouge">sizeof</code> <a href="http://en.cppreference.com/w/c/language/sizeof">operator</a> that tells you the storage size of any type in bytes. For example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>printf( "%lu\n", sizeof(int) );
</code></pre></div></div>

<p>Results in</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>4
</code></pre></div></div>

<p>on my machine. Note this is larger than the minimum 2 bytes required by the standard. This is because the architecture of my machine handles data in 4-byte chunks more efficiently than 2-byte chunks.</p>

<p>The <code class="highlighter-rouge">printf</code> format string contained the <code class="highlighter-rouge">%lu</code> format specifier, which prints a unsigned long integer type. I chose this format because on my 64-bit machine <code class="highlighter-rouge">sizeof</code> outputs an unsigned long (storage size can only be positive). If you are using a 32-bit operating system, you might need to use “%u” instead of “%lu”. The compiler will complain if you have the wrong format.</p>

<p><code class="highlighter-rouge">sizeof</code> also accepts a variable name for its argument. It figures out the type automatically</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>unsigned int a=73;
printf( "%u %lu\n", a, sizeof(a) );
</code></pre></div></div>

<p>Results in</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>73 4
</code></pre></div></div>

<p>Note that the requirements ask for the value in bits and not bytes. There are usually 8 bits in a byte. 
The number of bits in a byte on your machine is defined in the file <code class="highlighter-rouge">limits.h</code> in the variable 
<code class="highlighter-rouge">CHAR_BIT</code></p>

<p>
<pre class="prettyprint linenums">#include &lt;stdio.h>
#include &lt;limits.h>

int main( void ) 
{
  printf("number of bits in a byte: %d\n", CHAR_BIT);
}
</pre>
</p>

<!--
<script src="https://gist.github.com/anoopsarkar/081a1be52ce5a06cbd046911ed2fdcfc.js"></script>
-->

<p>Do not be tempted to just print the example output. Your code might be tested on a very weird machine.</p>

<p>As reminder, here’s an example of building and running your new program</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gcc -o sz t2.c
./sz
8 8 32 32 64 64 32 64 128
</code></pre></div></div>

                                    
                                
                            
                        
                            
                                <br><h4>Testing your program</h4>
                                
                                    <p>Once you believe your program meets the requirements
									(i.e., you have compiled and tested your code successfully
									and your program is now solving the problem stated in the task),
you are now ready to submit your program (task) to your Git repo. Remember, you won’t get feedback
from the grading robot for a while, so think about how you might test your
program before submission to maximize the chances of
it being correct. For example, you might find out which
CPU your machine has and look up what its native sizes
are.</p>

                                    
                                
                            
                        
                            
                                <br><h4>Submission</h4>
                                
                                    <p>Submit your solution by checking it into Git as before</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add t2.c
git commit -m "t2 submission"
git push
</code></pre></div></div>

 <br><h4>Last thing!</h4>
                                
 <p>There are two data types that have not yet been discussed in this lab: <code class="highlighter-rouge">signed short</code> 
 (which is more commonly referred to as <code class="highlighter-rouge">short</code>), and 
 <code class="highlighter-rouge">unsigned short</code>.</p>
<p>Take a moment to investigate them on the Internet. What is the size (in bits and bytes) of these two data types?
What are the minimum and the maximum values we can store in a variable of type <code class="highlighter-rouge">short</code>
and of type <code class="highlighter-rouge">unsigned short</code>?</p>
                                
                            
                        
                        </div>
                      
                </div>
            </div>
        
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#task3">Task 3: Input and pointers</a>
                    </h4>
                </div>
                <div id="task3" class="panel-collapse collapse">
                      
                      
                        <div class="panel panel-body">
                        
                            
                                <br><h4>Introduction</h4>
                                
                                    <p>Now let’s look at a C program that inputs an integer from the user and echoes it back</p>

</p><pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;stdio.h&gt;</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="kwd">int</span><span class="pln"> main</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="pun">)</span></li><li class="L3"><span class="pun">{</span></li><li class="L4"><span class="pln">  </span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></li><li class="L5"><span class="pln">&nbsp;</span></li><li class="L6"><span class="pln">  printf</span><span class="pun">(</span><span class="str">"Enter an integer: "</span><span class="pun">);</span></li><li class="L7"><span class="pln">&nbsp;</span></li><li class="L8"><span class="pln">  scanf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"%d"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">i </span><span class="pun">);</span></li><li class="L9"><span class="pln">  printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"Your integer was: %d\n"</span><span class="pun">,</span><span class="pln"> i </span><span class="pun">);</span></li><li class="L0"><span class="pln">&nbsp;</span></li><li class="L1"><span class="pln">  </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></li><li class="L2"><span class="pun">}</span></li><li class="L3"><span class="pln">&nbsp;</span></li></ol></pre>

<!--
<script src="https://gist.github.com/anoopsarkar/be31564405ba67cc14d1670e532d51a9.js"></script>
-->

<p>There are two new things on line 9. The function <code class="highlighter-rouge">scanf</code>
is roughly the inverse of <code class="highlighter-rouge">printf</code>, reading text from
<em>standard input</em>, a text stream directly analogous
to standard output but in the other direction. Text
from the shell is delivered to a program’s standard
input (<code class="highlighter-rouge">stdin</code> for short) and is queued there until
the program chooses to read it. The shell program and
the computer’s operating system work together to make
this happen. We will see later that this simple scheme
can be very powerful.</p>

<p>The arguments to <code class="highlighter-rouge">scanf</code> is a format string, similar
to that of <code class="highlighter-rouge">printf</code>, which is a template to be matched
against the input. The format string specifiers (starting
<code class="highlighter-rouge">%</code>) indicate that the text in this place in the input
string should be interpreted as a specific type, and
stored in the variable indicated by the next argument.
A variable of a suitable type must be supplied following
the format string, and they are used in order.</p>

<p>The format string argument to scanf <code class="highlighter-rouge">%d</code>  says we should
interpret the entire line as a decimal integer. Whitespace
around the number is ignored.</p>

<p>Since <code class="highlighter-rouge">scanf</code> is expecting a decimal integer, we have
to supply a variable in which to store the value. We
created an integer for this purpose  on line 5. So what
is the purpose of the ampersand <code class="highlighter-rouge">&amp;</code> before the
argument <code class="highlighter-rouge">i</code> on line 9?</p>

                                    
                                
                            
                        
                            
                                <br><h4>Pass by value</h4>
                                
                                    <p>A fundamental feature of C is that arguments to functions are <em>passed by value</em>. Inside the called function, we see only the value of the arguments we were called with. If we do omit the <code class="highlighter-rouge">&amp;</code> before the argument <code class="highlighter-rouge">i</code> we get an error message.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int i = 0;
scanf( "%d", i ); // ERROR!
</code></pre></div></div>

<p>Then <code class="highlighter-rouge">scanf</code> sees the format string as its first argument, and the value zero as its second argument. This is no use to <code class="highlighter-rouge">scanf</code>! It needs to store the value it has extracted from the input string somewhere. We wanted to tell <code class="highlighter-rouge">scanf</code> about the variable <code class="highlighter-rouge">i</code>, not the value of variable <code class="highlighter-rouge">i</code>. How do we get around this apparent limitation?</p>

                                    
                                
                            
                        
                            
                                <br><h4>Pointers</h4>
                                
                                    <p>The answer is a very important concept in C, the <em>pointer</em>. The pointer allows us to represent where things are stored in memory. This is a simple idea, but pointers are often considered tricky.</p>

<p>Computer Architecture reminder: The computer makes memory available to your program as a simple <em>address space</em>, with each byte of memory having a unique numeric address, numbered from 0 to the size of the space. This is determined by your machine type, but is typically 2^32 (4GB or around 4.3 billion bytes) or 2^64 (a <em>very</em> large number). Every address contains a single value from 0 to 2^8 (255). The address space can be visualized as a stack of mailboxes, numbered from zero, each containing a number.</p>

<p style="text-align:center"><img src="../assets/img/mailboxes.jpg" alt="Mailboxes" /></p>

<p>This point is crucial: each mailbox <em>has an address</em>, for example 114 in the picture. And that mailbox <em>contains a value</em>. If you open the door of mailbox 114 and you see a note with “93” written on it, we say the value 93 is stored at address 114.</p>

<p>If you have used a spreadsheet, you are familiar with this idea. The address of a cell is its coordinate (e.g., C2), and the value of the cell is the number it contains. The memory space of a C program is like a spreadsheet with only one column.</p>

<p>Consider this sketch of our program’s one-column address space:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Address   Value
 2^n          0
   .          .
   .          .
   7          0
   6          0
   5          0
   4         42
   3          0
   2          0
   1          0
   0          0
</code></pre></div></div>

<p>The address space is listed on the left - the stack of uniquely numbered memory slots,  and the value contained in each listed on the right. The value in memory address 4 is 42. Conversely, the <em>address of</em> that byte with value 42 is 4.</p>

<p>Now we can see how variables are actually implemented in C. When you declare a variable, e.g., <code class="highlighter-rouge">char c=42;</code>, the compiler chooses a currently unused address to contain it, say address 4, then writes the initial value 42 into the memory at that address. Every time the program refers to the value of c, this means the value stored at address 4.</p>

<p>Often you need to manipulate values larger than 2^8. To support this the compiler allocates a sequence of addresses with enough space to store a value of the variable’s type. The lowest-numbered address is the <em>address of</em> the variable. The <em>int</em> type is used to store integers. It is often 32 bits long and thus need 4-bytes of address space. In our example, the compiler has decided that integer <code class="highlighter-rouge">i</code> will be stored in the 4 bytes starting at address 4. The value of 42 for <code class="highlighter-rouge">i</code> fits in the first byte, but we might increase it later such that addresses 5, 6 and 7 would have non-zero values too.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Address   Value
 2^n          0
   .          .
   .          .
   7          0                  |   byte 3 
   6          0                  |   byte 2
   5          0                  |   byte 1
   4         42     &lt;---- int i -    byte 0 
   3          0
   2          0
   1          0
   0          0
</code></pre></div></div>

<p>After compilation, your integer variable originally called <code class="highlighter-rouge">i</code> or <code class="highlighter-rouge">highscore</code> or <code class="highlighter-rouge">answer_to_everything</code> just becomes “the value of the 4 bytes starting at address 4 representing an integer”. Variable names are just for humans and the compiler.</p>

<p><b>It’s important to remember this simple model of data storage in C: the computer uses both 
     (i) an <em>address</em> to locate the start of sequence of bytes; 
     (ii) a <em>type</em> to understand how long the sequence is and how to interpret it.</b></p>

<p>Python and many other ‘high level’ languages have different storage models and you rarely have to think about them. That’s part of what ‘high level’ means. C allows/requires you to think about data storage more directly.</p>

                                    
                                
                            
                        
                            
                                <br><h4>Pointers solve the pass by value problem</h4>
                                
                                    <p>At this point you may have figured out the purpose of the ampersand operator <code class="highlighter-rouge">&amp;</code>. It means “address of” the variable to its right. We can fix the fragment above using this operator:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int i = 0;
scanf( "%d", &amp;i ); // fixed using &amp;
</code></pre></div></div>

<p>Now <code class="highlighter-rouge">scanf</code> receives the format string followed by the <em>address of</em> variable <code class="highlighter-rouge">i</code>. If <code class="highlighter-rouge">i</code> has the address 68, then <code class="highlighter-rouge">scanf</code> receives the value 68. It now knows where to store the integer it reads from standard input. A value that represents a memory address is called a <em>pointer</em>, since it <em>points to</em> where its target is stored.</p>

<p>Remember: pointers allow programs to represent and manipulate memory addresses. This is a very powerful tool. We have seen how it solves the apparent limitation of the pass-by-value mechanism. We will come back to pointers later.</p>

<p>Many languages, e.g., Java, do not allow you to use pointers, and have <em>references</em> instead. These are implemented internally as pointers, with an extra little safety net limiting how you use them. C has only pointers, for simplicity. C++ has both pointers and references.</p>

<p>Now you know how to pass a pointer into <code class="highlighter-rouge">scanf</code>, we are ready for the task at hand.</p>

                                    
                                
                            
                        
                            
                                <div class="panel panel-primary">
                                  <div class="panel-heading">
                                    <h4 class="panel-title">Requirements</h4>
                                  </div>
                                  <div class="panel-body">
                                    <ol>
  <li>Write a new C program in the file <code class="highlighter-rouge">t3.c</code>.</li>
  <li>Write a program to read a floating point value from standard input, then output
    <ol>
      <li>The largest integer smaller than or equal to this value;</li>
      <li>The nearest integer to this value, with halfway values rounded away from zero;</li>
      <li>The smallest integer larger than or equal to this value</li>
    </ol>
  </li>
  <li>The output integers should be separated by a space character and followed by a newline character.</li>
  <li>The output values should not have any trailing zeros: e.g. <code class="highlighter-rouge">2</code> not <code class="highlighter-rouge">2.0</code>.</li>
  <li>Sample input: <code class="highlighter-rouge">3.1415</code></li>
  <li>Corresponding output: <code class="highlighter-rouge">3 3 4</code></li>
  <li>Remember to consider negative numbers (which are also valid integers).</li>
  <li>Be careful about whitespace at the start or end of each line in your output.</li>
  <li>Remember that the sample code above was for you to run, the computer does not need to be prompted for input so do <strong>not</strong> use any <code class="highlighter-rouge">"Enter an integer:"</code> or <code class="highlighter-rouge">"Enter a floating point number:"</code> prompts in your code.</li>
</ol>

                                  </div>
                                </div>
                                
                            
                        
                            
                                <br><h4>Guide</h4>
                                
                                    <p>The format string syntax for <code class="highlighter-rouge">scanf</code> is very nearly the same as for <code class="highlighter-rouge">printf</code>. The format specifier for floating point numbers is <code class="highlighter-rouge">%f</code>.</p>

<p>C comes with the <em>standard library</em>, which contains many useful basic functions, including <code class="highlighter-rouge">printf</code> and <code class="highlighter-rouge">scanf</code>, and many mathematical functions. These functions and their documentation <em>man pages</em> are available on almost all platforms, via the <em>man</em> program we used briefly above.</p>

<p>For example, you can look up your local man page for <code class="highlighter-rouge">scanf</code> like so:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>man scanf
</code></pre></div></div>

<p>The (very detailed) man page for scanf and related functions lists all the format strings it understands. You only need “%f” for this task.</p>

<p>Press the <code class="highlighter-rouge">q</code> key to exit the man page viewer.</p>

<p>Notice that the required header(s) are listed at the top of the man page for each function. The exact headers needed varies slightly by system, so check your local man pages.</p>

<p>The man page system is widely available and usually very detailed. The main problem with it is that you need to know the name of what you’re looking for. Happily, all the web pages are online and indexed by the web search engines. Double check your local man pages after looking online, due to the minor differences between platforms.</p>

<p>Three functions will be helpful for this task: <code class="highlighter-rouge">floor</code>, <code class="highlighter-rouge">ceil</code> and <code class="highlighter-rouge">round</code>.</p>

<p>These and most other math functions require the <code class="highlighter-rouge">math.h</code> header:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#include &lt;math.h&gt;
</code></pre></div></div>

<p>Note that these functions return values of type <b>double</b> and not <b>int</b>. Thus you need the appropriate <code class="highlighter-rouge">printf</code> format string if you print their results directly. You can <strong>coerce</strong> a double value into an int value by asking C to convert it for you. For example, the following code converts a double value and prints it as an int value.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#include &lt;stdio.h&gt;
 
int main( void )
{
  double i = 3.14159;
  printf( "%d\n", (int)i);
  return 0;
}
</code></pre></div></div>

<p>If you remove the <code class="highlighter-rouge">(int)</code> from the <code class="highlighter-rouge">printf</code> call, the compiler will give you some warnings about trying to print a double value as an int. In this case, you can safely ignore those warnings or add in the <code class="highlighter-rouge">(int)</code> type cast to get rid of the warnings.</p>

                                    
                                      <p>
                                      <div class="alert alert-danger" role="alert">
                                        <p>To see what each function does, check the system manual page like so:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>man floor
man round
man ceil
</code></pre></div></div>

<p>Again, press the <code class="highlighter-rouge">q</code> key to exit the man page viewer.</p>

                                      </div>
                                      </p>
                                    
                                
                            
                        
                            
                                <br><h4>Linking a library</h4>
                                
                                    <p>The functions declared in <code class="highlighter-rouge">math.h</code> are not built-in to
C. They are optional extras that are available as
standard in most installations. The core of C is very
small, and it comes with a <em>standard library</em> of
extras, including these math functions. To use them you
have to <code class="highlighter-rouge">#include</code> the <code class="highlighter-rouge">math.h</code> file, and then <em>link</em>
the math library into your program, which adds the code
for the math functions you use into your program. This
is done explicitly in the compile command like so</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gcc -o t3 t3.c -lm
</code></pre></div></div>

<p>The <code class="highlighter-rouge">-lm</code> suffix means link (<code class="highlighter-rouge">-l</code>) the math library (<code class="highlighter-rouge">m</code>). C tools are terse like that. The link command comes after the name of the source file(s), so that the compiler knows which functions are needed from the library.</p>

                                    
                                
                            
                        
                            
                                <br><h4>Testing your program</h4>
                                
                                    <p>Once you believe your program meets the requirements you are ready to submit.</p>

                                    
                                
                            
                        
                            
                                <br><h4>Submission</h4>
                                
                                    <p>Submit your solution by adding, committing and pushing to your Git repository as before:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add t3.c
git commit -m "t3 submission"
git push
</code></pre></div></div>

                                    
                                
                            
                        
                        </div>
                      
                </div>
            </div>
        
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#task4">Task 4: Conditions with if and else, return values</a>
                    </h4>
                </div>
                <div id="task4" class="panel-collapse collapse">
                      
                      
                        <div class="panel panel-body">
                        
                            
                                <br><h4>Introduction</h4>
                                
                                    <p>The previous task produced a very fragile program. What if the user typed in something than could not be interpreted as a floating point number? Try it and see what happens. Does it make sense?</p>

<p>We have reached a very important point. Assuming your code perfectly meets the requirements above, you can say it is correct. But “correct” is defined by reference to the requirements. This code is not robust when the user is free to type in arbitrary things into standard input. We can improve the requirements by specifying what the program should do in the case of failures. It is important to see that correct code may not be reliable in the real world, and that the task of specifying requirements is a large part of the work of programming.</p>

<p>To write robust software that does the right thing even when used roughly, we first need to extend the requirements to specify what to do when things go wrong. 
Then in the code we test things as we go along, using <em>conditionals</em>: keywords that change the program’s behaviour depending on the value of a statement at the time it is executed. C’s basic conditional is <code class="highlighter-rouge">if</code> and it has the form:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if( statement )
{
    /* this block is executed if and only if _statement_ evaluates to true (non zero) */
} 
</code></pre></div></div>
<p>or
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if( statement ) {
    /* this block is executed if and only if _statement_ evaluates to true (non zero) */
} 
</code></pre></div></div>

<p>For example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if( s &gt; highscore ) {
    highscore = s;
}
</code></pre></div></div>

<p>An optional <code class="highlighter-rouge">else</code> block can be added that will run only if the condition is false. Thus you can choose between two courses of action, for example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if( s &gt; highscore ) {
    highscore = s;
    printf( "Congratulations on a new high score!\n" );
} else {
    printf( "Bad luck. Try again\n" );
}
</code></pre></div></div>

                                    
                                
                            
                        
                            
                                <br><h4>Code blocks and indentation</h4>
                                
                                    <p>The block of code after a conditional is contained in curly braces <code class="highlighter-rouge">{ ... }</code>. 
									In Python block structure is indicated by indentation, but in C and many other languages, indentation is not significant, 
									and is only there for the comfort of the human reader. This is still <em>very</em> important, so you should follow the
									conventional indentation style used here and stick to it.</p>
                          
                                <br><h4>Return values</h4>
                                
                                    <p>Functions often return values to the caller. For example, <code class="highlighter-rouge">scanf</code> returns an integer that indicates the number of successfully assigned variables, possibly 0 if none were assigned.</p>

<p>We capture the return value using the <em>assignment operator</em> <tt>=</tt>. We used this already in variable declarations to indicate an initial value (this is always a good idea, since C does not usually initialize variables for you).</p>

<p>Assignment examples:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>int a = 0; // ensures a does not have a random initial value
a = 5;   // change the value of an already-declared variable

a = scanf( "%d", &amp;b ); // if b is set successfully, a will be set to 1. If not, a will be 0.
</code></pre></div></div>

<p>You should almost always check the return value (or other error-reporting mechanism) for any function call that could possibly go wrong or weird. This is a key basic strategy in <a href="http://en.wikipedia.org/wiki/Defensive_programming">Defensive Programming</a> which aims to protect against <a href="http://en.wikipedia.org/wiki/Finagle%27s_Law">Finagle’s law</a>.</p>

                                    
                                
                            
                        
                            
                                <div class="panel panel-primary">
                                  <div class="panel-heading">
                                    <h4 class="panel-title">Requirements</h4>
                                  </div>
                                  <div class="panel-body">
                                    <ol>
  <li>Copy your solution for Task 3 <code class="highlighter-rouge">t3.c</code> to a new file <code class="highlighter-rouge">t4.c</code>.</li>
  <li>The input is guaranteed to contain at least one non-whitespace character.</li>
  <li>If the input is well-formed, i.e., can be parsed to a number, the program should behave identically to Task 3. All the requirements of Task 3 still apply except the file name.</li>
  <li>If the input is not well formed, 
  the program should print a helpful error message that contains the value returned by <code class="highlighter-rouge">scanf</code> so that the programmer can compare this number with the <code class="highlighter-rouge">scanf</code> documentation to figure out what went wrong. (If this program was aimed at end-users, we might design this differently).</li>
  <li>The error message should be in the form: <code class="highlighter-rouge">"scanf error: (%d)\n"</code> with the <code class="highlighter-rouge">scanf</code> return value between the parentheses.</li>
  <li>Sample input: <code class="highlighter-rouge">3.1415</code></li>
  <li>Corresponding output: <code class="highlighter-rouge">3 3 4</code></li>
  <li>Sample input: <code class="highlighter-rouge">sausage</code></li>
  <li>Corresponding output: <code class="highlighter-rouge">scanf error: (0)</code></li>
  <li>Be careful about the spaces, for instance, the space between the <code class="highlighter-rouge">:</code> and <code class="highlighter-rouge">(</code> in the error string.</li>
</ol>

                                  </div>
                                </div>
                                
                            
                        
                            
                                <br><h4>Guide</h4>
                                
                                    <p>You should test the return value of <code class="highlighter-rouge">scanf</code> to decide whether a floating point value was detected in the input.</p>

<p>Here’s the list of <em>infix</em> comparison operators. When placed between two expressions (hence the term “infix”), these result in a value of false (zero) or true (usually 1, but any non-zero value evaluates true when used in a logical expression).</p>

<table class="table table-bordered table-condensed table-responsive">
<tbody><tr><th>name</th><th>syntax
</th></tr><tr><td>equal to</td><td>==
</td></tr><tr><td>not equal to</td><td>!=
</td></tr><tr><td>less than</td><td>&lt;
</td></tr><tr><td>greater than</td><td>&gt;
</td></tr><tr><td>less than or equal to</td><td>&lt;=
</td></tr><tr><td>greater than or equal to</td><td>&gt;=
</td></tr></tbody></table>

<br>
<p>Notice the <em>equal to</em> operator “==” is distinct from the assignment operator “=” . Mixing these up is a common bug for C beginners. Double-check every time you intend to use “==”.</p>

                                    
                                
                            
                        
                            
                                <br><h4>Testing and Submission</h4>
                                
                                    <p>Test, test, test again, then submit as usual.</p>

                                    
                                      <p>
                                      <div class="alert alert-danger" role="alert">
                                        <p>Testing and submission instructions will be omitted from now on, 
										unless there is something special about the particular task. 
										Unless otherwise specified, submit a source file called 
										<code class="highlighter-rouge">tX.c</code> where X is the task number.</p>

                                      </div>
                                      </p>
                                    
                                
                            
                        
                        </div>
                      
                </div>
            </div>
        
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#task5">Task 5: Loops</a>
                    </h4>
                </div>
                <div id="task5" class="panel-collapse collapse">
                      
                      
                        <div class="panel panel-body">
                        
                            
                                <br><h4>Introduction</h4>
                                
                                    <p>Now our number-rounding program can detect input scanning errors, but it still only works for one number. Let’s extend it to handle any number of inputs. For this we need to repeat part of our program to deal with each value that comes. We need a <em>conditional loop</em>. C has only two options: <tt>while</tt> and <tt>for</tt>.</p>

                                    
                                
                            
                        
                            
                                <br><h4>While loops</h4>
                                
                                    <p>The <tt>while</tt> keyword has the following form:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>while( condition )
{
    // this block executes repeatedly as long as condition evaluates to true
}
</code></pre></div></div>

<p>or</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>while( condition ) {
    // this block executes repeatedly as long as condition evaluates to true
}
</code></pre></div></div>

<p>For example this code:

</p><pre class="prettyprint prettyprinted" style=""><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">while</span><span class="pun">(</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">6</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
  printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"%d "</span><span class="pun">,</span><span class="pln"> i </span><span class="pun">);</span><span class="pln">
  i</span><span class="pun">++;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"\n"</span><span class="pln"> </span><span class="pun">);</span></pre>

<!--
<script src="https://gist.github.com/anoopsarkar/1138f8f0eedb8f27a05fe17662b83c76.js"></script>
-->

<p>produces the output</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0 1 2 3 4 5
</code></pre></div></div>

<p>The repeating block of code is contained in curly braces <code class="highlighter-rouge">{ ... }</code> the same as with the conditional structure we saw earlier.</p>

<p>Note the use of the <em>increment operator</em> <tt>++</tt> which adds one to its argument. <tt>i++</tt> is a shortcut for <tt>i=i+1</tt>. This, along with the <em>decrement operator</em> <tt>–</tt> are frequently used. Now you know how C++ got its name.</p>

<p>The condition can be inverted with the logical <em>not operator</em> <tt>!</tt>, so the following does the same:

</p><pre class="prettyprint prettyprinted" style=""><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">while</span><span class="pun">(</span><span class="pln"> </span><span class="pun">!</span><span class="pln"> (i </span><span class="pun">==</span><span class="pln"> </span><span class="lit">6)</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
  printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"%d "</span><span class="pun">,</span><span class="pln"> i </span><span class="pun">);</span><span class="pln">
  i</span><span class="pun">++;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"\n"</span><span class="pln"> </span><span class="pun">);</span></pre>

<!--
<script src="https://gist.github.com/anoopsarkar/91375d712c598882701f788fc86faacd.js"></script>
-->

<p>It is important to note that if the <tt>while</tt> condition is false on the first evaluation, the body of the loop is never executed. Think of it like an <tt>if</tt> statement that repeats until it is false. 
Occasionally it is useful to have the body of the loop run at least once before testing the condition, so there is an alternate form: the <tt>do-while</tt>, like so:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>do 
{
    // this block executes at least once, 
    // then repeats as long as
    // condition evaluates true
} while( condition );
</code></pre></div></div>

<p>or</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>do {
    // this block executes at least once, 
    // then repeats as long as
    // condition evaluates true
} while( condition );
</code></pre></div></div>

<p>For example this code:</p>

</p><pre class="prettyprint prettyprinted" style=""><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">do</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
   i </span><span class="pun">=</span><span class="pln"> getNextValueFromDatabase</span><span class="pun">();</span><span class="pln"> 

</span><span class="pun">}</span><span class="pln"> </span><span class="kwd">while</span><span class="pun">(</span><span class="pln"> i </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">1000</span><span class="pln"> </span><span class="pun">)</span></pre>

<p>will get at least one value from the database, and will repeat this until it fetches a number bigger than 1000.</p>

<p>This is a dangerous example, since if all the values in the database are less than 1000, this program will happily run forever. 
This could be a nasty bug since your test database is probably different from those of your customers.
 You should be looking out for problems like this whenever you write a loop. To produce high quality code, you need to be always thinking,
 “What could possibly go wrong here?”</p>

                                    
                                
                            
                        
 <br>                           
                                <h4>For loops</h4>
                                
                                    <p>The pattern above, where we initialize a variable, test its value, then perform a loop that changes the value, is so frequently used that it has a special syntax: the <em>for loop</em>, which has the form</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for( initialize; condition; modify )
{
    // this code runs until condition evaluates to false 
}
</code></pre></div></div>

<p>or</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for( initialize; condition; modify ) {
    // this code runs until condition evaluates to false 
}
</code></pre></div></div>

<p>Any valid C expression can be used in each of the three for() components, separated by semicolons. But they are usually quite simple. For example:</p>

</p><pre class="prettyprint prettyprinted" style=""><span class="kwd">for</span><span class="pun">(</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="lit">6</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
  printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"%d "</span><span class="pun">,</span><span class="pln"> i </span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"\n"</span><span class="pln"> </span><span class="pun">);</span></pre>

<p>is functionally identical to our first <tt>while</tt> example.</p>

<p>Every for loop has an equivalent while, and <em>vice versa</em>, so choose whichever is neatest for the loop at hand.</p>

                                    
                                
                            
 <br>                       
  
 
                                <h4>Break</h4>
                                
                                    <p>You can break out of a loop body with the <tt>break;</tt> statement. For example, this code:

</p><pre class="prettyprint prettyprinted" style=""><span class="kwd">for</span><span class="pun">(</span><span class="pln"> </span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="lit">1000</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
   </span><span class="kwd">if</span><span class="pun">(</span><span class="pln"> random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="lit">100</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="com">// random() is defined in stdlib.h</span><span class="pln">
       </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">

   printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"%d "</span><span class="pun">,</span><span class="pln"> i</span><span class="pun">++</span><span class="pln"> </span><span class="pun">);</span><span class="pln"> </span><span class="com">// prints the value and *then* increments it</span><span class="pln">
</span><span class="pun">}</span></pre>

<p>will print integers in sequence from 0, but has a 1% chance of leaving the loop every time around. The function random() returns a random integer and the % operator is the integer modulus operator, so the code will print consecutive numbers up to 999 or until random() returns a multiple of 100, whichever comes sooner.</p>
                                            
                            
                                <br><h4>Continue</h4>
                                
                                    <p>You can jump to the beginning of a loop body with the <tt>continue;</tt> statement. For example, this code:

</p><pre class="prettyprint prettyprinted" style=""><span class="kwd">for</span><span class="pun">(</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="lit">1000</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
   </span><span class="kwd">if</span><span class="pun">(</span><span class="pln"> random</span><span class="pun">()</span><span class="pln"> </span><span class="pun">%</span><span class="pln"> </span><span class="lit">100</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">)</span><span class="pln">
       </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">

   printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"%d "</span><span class="pun">,</span><span class="pln"> i</span><span class="pun">++</span><span class="pln"> </span><span class="pun">);</span><span class="pln"> </span><span class="com">// prints the value and *then* increments it		  </span><span class="pln">
</span><span class="pun">}</span></pre>

<p>will print integers of increasing value, but every loop iteration has has a 1% chance of jumping to the beginning of the loop without printing. Thus this code will continue to loop until it reaches 1000, but might skip a few numbers.</p>

<p><mark>Challenge! Can you write your programs without using <em>break</em> or <em>continue</em>?</mark></p>

<p>That is all there is to loops in C.</p>

                                    
                                
                            
                        
                            
                                <br><h4>EOF: the end of the file</h4>
                                
                                    <p>The standard input stream to your program behaves as if it was a file. One of the most powerful ideas behind the design of the UNIX operating system and environment is that <a href="http://en.wikipedia.org/wiki/Everything_is_a_file">“everything is a file”</a>. Since stdin behaves like a file, it can have an “end”.</p>

<p>The shell program connects your typed input to your program’s stdin. We can break this connection by typing the special character sequence <code class="highlighter-rouge">Ctrl-d</code>, that is press-and-hold the control key, then press ‘d’, then release the control key. The shell receives this command, sends a special “End-of-file” or <b>EOF</b> indicator to the connected stdin, and then closes the connection.</p>

<p>Inside the running program, the EOF indicator is detected by input functions such  as <code class="highlighter-rouge">scanf</code>. <code class="highlighter-rouge">scanf</code> will return an integer with a special value to indicate EOF. This is often -1, but the actual value depends on your system. The standard library defines the symbol “EOF” which has the correct value for your system. You can use it like so:</p>

</p><pre class="prettyprint prettyprinted" style=""><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> scanf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"%d"</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">i </span><span class="pun">);</span><span class="pln">

</span><span class="kwd">if</span><span class="pun">(</span><span class="pln"> result </span><span class="pun">==</span><span class="pln"> EOF </span><span class="pun">)</span><span class="pln"> </span><span class="com">// note double-equals for comparison!</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
  printf</span><span class="pun">(</span><span class="pln"> </span><span class="str">"End of file detected\n"</span><span class="pln"> </span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></pre>


<p>By definition, once an EOF is seen in an input stream, any subsequent read will also return EOF.</p>

<p>We can use the combination of conditional loops and EOF indicator to make the rounding program work for an arbitrary number of input values.</p>
                           
                        
                            
                                <div class="panel panel-primary">
                                  <div class="panel-heading">
                                    <h4 class="panel-title">Requirements</h4>
                                  </div>
                                  <div class="panel-body">
<p><mark>It is very IMPORTANT that you read ALL the requirements for this Task 5 before you start writing your program. Pay particular attention to the <b>Important 
Note</b> below describing the input and output being interleaved on the monitor screen.</mark></p>

                                    <ol>
  <li>Save your program to the file <code class="highlighter-rouge">t5.c</code>.</li>
  <li>Write a program to read any number of floating point values from standard input, separated by newlines.</li>
  <li>The input may also contain any number of blank lines, i.e. lines that contain any amount of whitespace followed by a newline.</li>
  <li>With the exception of blank lines, the input is guaranteed to be well-formed and contain at least one valid floating point value. 
  Therefore, there is no need for our t5.c program to print a helpful error message (as we did in Task 4 when the input was not well formed).</li>
  <li>For each value input, output (as before):
    <ol>
      <li>The largest integer smaller than this value;</li>
      <li>The nearest integer to this value, with halfway values rounded away from zero;</li>
      <li>The smallest integer larger than this value</li>
    </ol>
  </li>
  <li>For each input value, the output integers should be separated by a space character and followed by a newline character.</li>
  <li>The output values should not have any trailing zeros: e.g., “2” not “2.0”.</li>
  <li>If no floating point value can be parsed (i.e. a blank line was read) there should be no output. To put it another way: blank lines should be ignored.</li>
  <li>The program should accept input values on stdin until EOF is reached.</li>
  <li>When EOF is reached, print <code class="highlighter-rouge">Done.\n</code> on line by itself, then exit the program. This line has a <code class="highlighter-rouge">.</code> at the end of it. Pay attention to small details.</li>
  <li>
    <p>Sample input:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>3.1415
7.11
-15.7
</code></pre></div>    </div>
  </li>
  <li>
    <p>Corresponding output:</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>3 3 4
7 7 8
-16 -16 -15
Done.
</code></pre></div>    </div>
  </li>
</ol>

<p><mark><b>Important Note:</b></mark> Your input and output are interleaved in the terminal window, so if you type in the numbers and press enter after each line then the <em>appearance</em> of a run of a correct program with the input above is:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>3.1415
3 3 4
7.11
7 7 8
-15.7
-16 -16 -15
</code></pre></div></div>

<p>It’s important to realize that the above output consists of alterating line of input and output, each three lines long.</p>

<p>If you construct the input and feed it using shell commands you will see only the output of your program</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gcc -o t5 t5.c -lm
echo "3.1415 7.11 -15.7" | tr ' ' '\n' | ./t5
</code></pre></div></div>

<p>The <code class="highlighter-rouge">-lm</code> suffix means link (<code class="highlighter-rouge">-l</code>) the math library (<code class="highlighter-rouge">m</code>). The link command comes after the name of the source file(s), so that the compiler knows which functions are needed from the library.</p>

<p>Then the output will be</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>3 3 4
7 7 8
-16 -16 -15
Done.
</code></pre></div></div>

                                  </div>
                                </div>
                                
                            
                        
                            
                                <br><h4>Guide</h4>
                                
                                    <p>Try to write code that is readable. Make the code self-explanatory to someone else who might read your program and try to use it.</p>

                                    
                                
                            
                        
                            
                                <br><h4>Testing coverage</h4>
                                
                                    <p>Don’t forget to test yourself interactively on a variety of inputs. One is not enough. Your job is to find bugs before our grading system does. Think “what can I possibly do to make it go wrong?”.</p>

<p>As always, make sure your program meets the requirements. Here is a key idea: 
<b>perform a test that covers every requirement</b>, including those about malformed input and empty lines. 
Your tests should also exercise every line of your program, including every possible branch due to a conditional. 
This is the principle of <em>coverage</em>. 
We will talk more about testing strategies later.</p>

<p>It’s also important to understand that <b>a program that passes all the tests may not be correct</b>. 
While our online tests aim to cover a variety of input cases, we don’t know what’s in your program, 
so we can not guarantee code coverage.</p>

<p>Only you can ensure your code is correct!</p>

                                    
                                
                            
                        
                        </div>
                      
                </div>
            </div>
        
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#task6">Task 6: Simple statistics</a>
                    </h4>
                </div>
                <div id="task6" class="panel-collapse collapse">
                      
                      
                        <div class="panel panel-body">
                        
                            
                                <br><h4>Introduction</h4>
                                
                                    <p>An exercise in computing elementary statistics over a set of input values. You will need to loop over a <code class="highlighter-rouge">scanf</code> and check its return value to detect the end of the input.</p>

                                    
                                
                            
                        
                            
                                <div class="panel panel-primary">
                                  <div class="panel-heading">
                                    <h4 class="panel-title">Requirements</h4>
                                  </div>
                                  <div class="panel-body">
                                    <ol>
  <li>Save your program to the file <code class="highlighter-rouge">t6.c</code>.</li>
  <li>Read floating point values from stdin, each separated by a newline, and terminated by EOF.</li>
  <li>The input values are in the range [-100,000 to +100,000].</li>
  <li>The input will contain at least one floating-point value.</li>
  <li>The input may contain blank lines: these should be ignored.</li>
  <li>Apart from possible blank lines, the input is otherwise well-formed.</li>
  <li>At EOF, output:
    <ol>
      <li>The smallest value seen.</li>
      <li>The largest value seen.</li>
      <li>The arithmetic mean of all the values seen.</li>
    </ol>
  </li>
  <li>All output must be accurate to two decimal places.</li>
  <li>The output values must be separated by a single space character and followed by a newline character.</li>
  <li>Examples:
    <ol>
      <li>
        <ul>
          <li>
            <p>Input:</p>

            <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>7
5.6
6
</code></pre></div>            </div>
          </li>
          <li>
            <p>Output:</p>

            <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5.60 7.00 6.20
</code></pre></div>            </div>
          </li>
        </ul>
      </li>
      <li>
        <ul>
          <li>
            <p>Input:</p>

            <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>11
</code></pre></div>            </div>
          </li>
          <li>
            <p>Output:</p>

            <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>11.00 11.00 11.00
</code></pre></div>            </div>
          </li>
        </ul>
      </li>
    </ol>
  </li>
</ol>

                                  </div>
                                </div>
                                
                            
                        
                            
                                <br><h4>Guide</h4>
                                
                                    <p>Note that you do not have handle arbitrary text in the input. Only well-formed numbers and empty lines.</p>

<p>The <a href="http://en.wikipedia.org/wiki/Arithmetic_mean">definition of the arithmetic mean</a>.</p>

                                    
                                
                            
                        
                        </div>
                      
                </div>
            </div>
        
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#task7">Task 7: Horizontal graph</a>
                    </h4>
                </div>
                <div id="task7" class="panel-collapse collapse">
                      
                      
                        <div class="panel panel-body">
                        
                            
                                <br><h4>Introduction</h4>
                                
                                    <p>Write an easy but useful graphing program.</p>

                                    
                                
                            
                        
                            
                                <div class="panel panel-primary">
                                  <div class="panel-heading">
                                    <h4 class="panel-title">Requirements</h4>
                                  </div>
                                  <div class="panel-body">
<p><mark>It is very IMPORTANT that you read ALL the requirements and the examples for this Task 7 before you start writing your program. 
Pay particular attention to the <b>Important 
Note</b>'s below describing the input and output being interleaved on the monitor screen.</mark></p>
                                    <ol>
  <li>Save your program to the file <code class="highlighter-rouge">t7.c</code>.</li>
  <li>Read an arbitrary number of positive integer values from stdin. The values are separated by one or more spaces or by newlines 
  (only - no other characters must separate them).</li>
  <li>The input is guaranteed to be well-formed.</li>
  <li>On standard output, render a simple graph representation of the input values, in order, using hash <code class="highlighter-rouge">#</code> characters as shown in the examples below. The number of hashes printed should be equal to the input value.</li>
  <li>Your program should output exactly one line per input value.</li>
  <li>The value zero should generate an empty line, i.e. just a newline character.</li>
  <li>Ignore empty lines. Do not output a newline for an empty line.</li>
</ol>

                                  </div>
                                </div>
                                
                            
                        
                            
                                <br><h4>Examples</h4>
                                
                                    <p>Input</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5 4 3 2 1
</code></pre></div></div>

<p>Output</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#####
####
###
##
#
</code></pre></div></div>
<p><mark><b>Important Note:</b></mark> For this example, the output is displayed after you have typed the input in the
terminal window, so the appearance of the run of a correct
program with the example above is:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5 4 3 2 1
#####
####
###
##
#
</code></pre></div></div>

<p>Input</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>16
0
4
12
</code></pre></div></div>

<p>Output</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>################

####
############
</code></pre></div></div>
<p><mark><b>Important Note:</b></mark> Your input and output are interleaved in the
terminal window, so the appearance of the run of a correct
program with the example above is:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>16
################
0

4
####
12
############
</code></pre></div></div>

<p>Input</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 1 3 
2 1
</code></pre></div></div>

<p>Output</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#
#
###
##
#
</code></pre></div></div>
<p><mark><b>Important Note:</b></mark> Your input and output are interleaved in the
terminal window, so the appearance of the run of a correct
program with the example above is:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 1 3 
#
#
###
2 1
##
#
</code></pre></div></div>

<p>Input</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>3


2
1
</code></pre></div></div>

<p>Output</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>###
##
#
</code></pre></div></div>

<p><mark><b>Important Note:</b></mark> Your input and output are interleaved in the
terminal window, so the appearance of the run of a correct
program with the example above is:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>3 
###


2
##
1
#
</code></pre></div></div>

<p>In the next lab we will see how to use files with stdin and stdout to avoid this unsightly mess.</p>

<p>One way around entering input over and over again to test your program is to use some shell mojo:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gcc -o t7 t7.c
echo "1 1 3#2 1" | tr '#' '\n' | ./t7
#
#
###
##
#
</code></pre></div></div>


                                    
                                
                            
                        
                            
                                <br><h4>Testing and Submission</h4>
                                
                                    <p>As usual. Don’t forget the requirement that the program accepts
arbitarily input. This includes empty, very large and very small input values. Test these cases. 
Finally, ensure that your displayed results meet the specifications (requirements).</p>

                                    
                                
                            
                        
                        </div>
                      
                </div>
            </div>
        
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#task8">Task 8: Pyramid Projection 1</a>
                    </h4>
                </div>
                <div id="task8" class="panel-collapse collapse">
                      
                      
                        <div class="panel panel-body">
                        
                            
                                <br><h4>Introduction</h4>
                                
                                    <p>This exercise has more complex requirements. You can meet them with some quite simple, compact code. The main challenge here is formulating the problem as a computation.</p>

                                    
                                
                            
                        
                            
                                <div class="panel panel-primary">
                                  <div class="panel-heading">
                                    <h4 class="panel-title">Requirements</h4>
                                  </div>
                                  <div class="panel-body">
                                    <ol>
  <li>Save your program to the file <code class="highlighter-rouge">t8.c</code>.</li>
  <li>Read a line containing three positive integer values greater than 0 from stdin. The values are separated by one or more spaces.</li>
  <li>The input is guaranteed to be well-formed.</li>
  <li>The values represent the width (<script type="math/tex">x</script> dimension), breadth (<script type="math/tex">y</script> dimension) and height (<script type="math/tex">z</script> dimension) of a symmetrical rectangular-based pyramid, respectively. The height is measured perpendicularly from the base of the pyramid.</li>
  <li>All values will be in the range <script type="math/tex">[1..50]</script>.</li>
  <li>On standard output, render a view from <strong>above</strong> the pyramid, showing its rectangular base, i.e., the projection of the pyramid onto the plane <script type="math/tex">z=0</script>. In this view, <script type="math/tex">x</script> increases from left to right, and <script type="math/tex">y</script> increases from bottom to top.</li>
  <li>Draw the outline of the pyramid with the <code class="highlighter-rouge">#</code> character. The outline must approximate the pyramid’s boundary as shown in the examples below and described in the next two requirements.</li>
  <li>The top and bottom rows shall be drawn with exactly <em>width</em> <code class="highlighter-rouge">#</code> characters.</li>
  <li>For every remaining text row, either one or two <code class="highlighter-rouge">#</code> characters shall be drawn, covering the left-most and right-most position on that row intersected by the edge of the pyramid,</li>
  <li>Any non-boundary area inside the shape must be filled with the <code class="highlighter-rouge">.</code> character.</li>
</ol>

                                  </div>
                                </div>
                                
                            
                        
                            
                                <br><h4>Examples</h4>
                                
                                    <p>You’ll need to use a fixed-width font in your terminal for these shapes to look right in your output. (If the examples below don’t look symmetrical in your browser, check that your <code class="highlighter-rouge">pre</code> font is fixed-width.)</p>

<p>Input</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>6 6 4
</code></pre></div></div>

<p>Output</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>######
#....#
#....#
#....#
#....#
######
</code></pre></div></div>

<p>Input</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>7 7 4
</code></pre></div></div>

<p>Output</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#######
#.....#
#.....#
#.....#
#.....#
#.....#
#######
</code></pre></div></div>

<p>Input</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>6 4 2
</code></pre></div></div>

<p>Output</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>######
#....#
#....#
######
</code></pre></div></div>

<p>Input</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>6 2 4
</code></pre></div></div>

<p>Output</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>######
######
</code></pre></div></div>

<p>Input</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 1 1
</code></pre></div></div>

<p>Output</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#
</code></pre></div></div>

                                    
                                
                            
                        
                            
                                <br><h4>Testing and Submission</h4>
                                
                                    <p>As usual.</p>

<p>When testing yourself, don’t forget to try small values and ensure that your rendering meets the specifications.</p>

                                    
                                
                            
                        
                        </div>
                      
                </div>
            </div>
        
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" data-parent="#accordion" href="#task9">Task 9: Pyramid Projection 2</a>
                    </h4>
                </div>
                <div id="task9" class="panel-collapse collapse">
                      
                      
                        <div class="panel panel-body">
                        
                            
                                <div class="panel panel-primary">
                                  <div class="panel-heading">
                                    <h4 class="panel-title">Requirements</h4>
                                  </div>
                                  <div class="panel-body">
                                    <p>The requirements are the same as for the previous task, but this time pyramid must be rendered from the <strong>side</strong>:</p>

<ol>
  <li>Save your program to the file <code class="highlighter-rouge">t9.c</code>.</li>
  <li>(Inherit requirements 2-5, 7 and 8 from the previous task)</li>
  <li>On standard output render the view from the front of the pyramid, showing its triangular side, i.e., the projection of the pyramid onto the plane y=0. In this view, x increases from left to right and z increases from bottom to top.</li>
  <li>The base of the pyramid should be drawn as a row of exactly <em>width</em> <code class="highlighter-rouge">#</code> characters.</li>
  <li>The top row (tip of the pyramid) should be drawn such that every character position that intersects the boundary of the pyramid is drawn.</li>
  <li>For every remaining text row, either one or two <code class="highlighter-rouge">#</code> characters shall be drawn, covering the left-most and right-most position on that row intersected by the edge of the pyramid, as shown in the shaded regions in this image of a pyramid of width==6, breadth==6, height==4:</li>
  <li>Each line should be as few characters as possible:the final <code class="highlighter-rouge">#</code> character on each line should be immediately followed by a newline.</li>
</ol>

<p style="text-align:center"><img src="../assets/img/pyramid.png" alt="Pyramid" /></p>

                                  </div>
                                </div>
                                
                            
                        
                            
                                <br><h4>Guide</h4>
                                
                                    <p>Don’t be tempted to be artistic and make the pyramid “look right” by insisting on a 1-pixel point at the top. Be sure to meet the requirements exactly. Consider example 3 below and the image above, for example. Notice that the requirements imply that your rendering will be symmetrical left-to-right.</p>

<p>The view from the side of the pyramid involves drawing two lines from the base of the pyramid to the top. The left line starts from <script type="math/tex">(x_1, z_1) = (0,0)</script> and ends at <script type="math/tex">(x_2, z_2) = (\frac{x}{2}, z)</script>. The right line starts from <script type="math/tex">(x_1, z_1) = (x,0)</script> and ends at <script type="math/tex">(x_2, z_2) = (\frac{x}{2}, z)</script>. The equation for a line where we can feed in the <script type="math/tex">z</script> values and compute the <script type="math/tex">x</script> values is <script type="math/tex">x = mz + b</script> where <script type="math/tex">m</script> is the slope and <script type="math/tex">b</script> is the intercept. If we know the end points <script type="math/tex">(x_1, z_1)</script> and <script type="math/tex">(x_2, z_2)</script> (which we do) we can compute the slope <script type="math/tex">m = \frac{d_x}{d_z}</script> where <script type="math/tex">d_x = x_2 - x_1</script> and <script type="math/tex">d_z = z_2 - z_1</script>. The intercept <script type="math/tex">b = x_1 - m z_1</script>. Based on these equations and simplifying them we can write down the pseudo code for drawing each point <script type="math/tex">(x, z)</script></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dx = x2 - x1
dz = z2 - z1
for z from z1 to z2 {
  x = x1 + dx * (z - z1) / dz
  plot(x, z)
}
</code></pre></div></div>

<p>We need to draw <strong>two</strong> lines, but we can compute the value of <script type="math/tex">x</script> where we should draw the <code class="highlighter-rouge">#</code> for both lines inside the same loop. First use the pseudo code above to draw either the left or the right line. Once you do, you can add in the <script type="math/tex">x</script> value of the second line for each value <script type="math/tex">z</script> from <script type="math/tex">z_1</script> to <script type="math/tex">z_2</script> (which is always from <script type="math/tex">0</script> to <script type="math/tex">z</script>).</p>

<p>For each <script type="math/tex">j</script> which goes from <script type="math/tex">0</script> to <script type="math/tex">z</script> we can use the above pseudo code to compute the points for both the lines in the same loop (after some substitution of values and algebraic simplification</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>left = floor( j * (x/(2.0*z)) );
right = ceil( (x-1) + -j * (x/(2.0*z)) );  
</code></pre></div></div>

<p>We use <code class="highlighter-rouge">floor</code> and <code class="highlighter-rouge">ceil</code> in order to obtain the correct integer values for each coordinate for the left and the right line.</p>

<p>First print out the values of <code class="highlighter-rouge">left</code> and <code class="highlighter-rouge">right</code> for each <code class="highlighter-rouge">j</code>. For example for input <code class="highlighter-rouge">7 7 4</code> you should get</p>

<table class="table table-bordered table-condensed table-responsive">
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">j</code></td>
      <td><code class="highlighter-rouge">left</code></td>
      <td><code class="highlighter-rouge">right</code></td>
    </tr>
    <tr>
      <td>0</td>
      <td>0</td>
      <td>6</td>
    </tr>
    <tr>
      <td>1</td>
      <td>0</td>
      <td>6</td>
    </tr>
    <tr>
      <td>2</td>
      <td>1</td>
      <td>5</td>
    </tr>
    <tr>
      <td>3</td>
      <td>2</td>
      <td>4</td>
    </tr>
  </tbody>
</table>

<p>Once you have these values you know how many spaces to print to print the <code class="highlighter-rouge">#</code> at the right <script type="math/tex">x</script> coordinate to depict the line.</p>

<p>Start off by printing the pyramid upside down. It will be a lot easier to write the loop you need. For <code class="highlighter-rouge">7 7 4</code> you should get</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#######
#.....#
 #...#
  ###
</code></pre></div></div>

<p>Then do the loop from the largest to the smallest value (subtracting one each time) to print the pyramid upright. One thing to keep in mind is that the point on the base of the pyramid should be drawn once, so we only need to compute values of <script type="math/tex">x</script> for each <script type="math/tex">j</script> from <script type="math/tex">1</script> to <script type="math/tex">z</script>. Draw the base of the pyramid separately. Now for <code class="highlighter-rouge">7 7 4</code> you should get the desired output that will pass the auto grader</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ###
 #...#
#.....#
#######
</code></pre></div></div>

                                    
                                
                            
                        
                            
                                <br><h4>Examples</h4>
                                
                                    <p>Input</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>6 6 4
</code></pre></div></div>

<p>Output</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ##
 #..#
#....#
######
</code></pre></div></div>

<p>Input</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>7 7 4
</code></pre></div></div>

<p>Output</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ###
 #...#
#.....#
#######
</code></pre></div></div>

<p>Input</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1 1 1
</code></pre></div></div>

<p>Output</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#
</code></pre></div></div>

<p>Input</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>12 6 6
</code></pre></div></div>

<p>Output</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     ##
    #..#
   #....#
  #......#
 #........#
############
</code></pre></div></div>

<p>Input</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>40 10 4
</code></pre></div></div>

<p>Output</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>               ##########
          #..................#
     #............................#
########################################
</code></pre></div></div>

                                    
                                
                            
                        
                        </div>
                      
                </div>
            </div>
        
        <div class="panel-body control-accordion">
        <p class="pull-right"><a href="#" class="expandAll">Expand</a> | <a href="#" class="collapseAll">Collapse</a></p>
        </div>
    </div>
</div>

<script>
$(document).ready(function(){

   $('.collapseAll').click(function(){
       $('.panel-collapse.in')
        .collapse('hide');
    });
    $('.expandAll').click(function(){
    $('.panel-collapse:not(".in")')
        .collapse('show');
    });
 

});
</script>


        </div>
      </div>

      <footer class="text-center text-muted">
        <hr/>
        Last updated May 25, 2020.<br/>
		All the course material was designed, developed and initially taught by <a href="https://rtv.github.io/" target="_blank">Prof. Richard Vaughan</a>. <br/>
		Some of the material was changed for this offering so any errors introduced are due to the current instructor.</br>
        Web page design adapted from <a href="https://github.com/mt-class/jhu" target="_blank">this github repo <i class="fa fa-github-alt"></i></a> by 
		<a href="https://github.com/mjpost" target="_blank">Matt Post</a> and <a href="https://github.com/alopez" target="_blank">Adam Lopez</a>.<br/>
        <br/><br/>
      </footer>
    </div>
	

    <!-- Page content of course! -->
    <!-- JS and analytics only. -->
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="./../dist/js/bootstrap.js"></script>
    <script type="text/javascript">
      $(document).ready(function(){
        $("#labs").addClass("active");
      });
    </script>
  </body>
</html>
